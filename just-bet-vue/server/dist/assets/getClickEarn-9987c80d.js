import{d as _,c as r,z as G,q,b as n,A as w,l as I,m as M,f as m,_ as u,B as T,r as p,a as B,j as f,k as V,i as S,I as z,g as C,t as A,p as L,y as h,n as k,C as N}from"./index-95e07d1d.js";const D=a=>(I("data-v-1e9e0c9d"),a=a(),M(),a),E={key:0,class:"grid"},j={key:1,class:"skeleton-grid-loader"},R=D(()=>m("p",null,"Looking for game...",-1)),Y=_({__name:"MineGameBoard",props:{perRow:{default:5},loading:{type:Boolean,default:!1}},setup(a){return(e,s)=>e.loading?(n(),r("div",j,[q(w,{height:"100%"}),R])):(n(),r("div",E,[G(e.$slots,"default",{},void 0,!0)]))}});const ee=u(Y,[["__scopeId","data-v-1e9e0c9d"]]),$=T("game",()=>{const a=p(void 0),e=p(!1);function s(){const t=B("/api/latest-game");e.value=!0,t.get().then(o=>{e.value=!1,a.value=o})}function i(t){const o=B(`/api/game/${t}`);e.value=!0,o.get().then(d=>{e.value=!1,a.value=d})}return{game:a,loading:e,getLatestGame:s,getGame:i}}),x={class:"bomb-container"},F=_({__name:"MineBombTile",props:{displayIcon:{type:Boolean}},setup(a){return $(),(e,s)=>(n(),r("div",x,[e.displayIcon?(n(),f(V(S(z).minesweeper),{key:0})):C("",!0)]))}});const H=u(F,[["__scopeId","data-v-f94fd5a6"]]),J={class:"money-container"},K={key:0},O=_({__name:"MineCashTile",props:{earn:{},displayIcon:{type:Boolean}},setup(a){return(e,s)=>(n(),r("div",J,[e.displayIcon?(n(),r("p",K,"+"+A(S(L)(e.earn)),1)):C("",!0)]))}});const P=u(O,[["__scopeId","data-v-c0fd13ec"]]),Q=a=>(I("data-v-20c63fe9"),a=a(),M(),a),U=Q(()=>m("div",{class:"front"},null,-1)),W={class:"back"},X=_({__name:"MineBoardSquare",props:{earn:{},flip:{type:Boolean},isBomb:{type:Boolean},game:{default:void 0},id:{},displayIcon:{type:Boolean,default:!0}},emits:["squareClick"],setup(a,{emit:e}){const s=a,i=$(),t=p(null),o=p(!1),d=h(()=>s.game?s.game:i.game),b=h(()=>s.flip||s.isBomb?"transition: all 1s;transform: rotateY(180deg);":"");return(c,l)=>{var v,y;return n(),r("div",{class:k(["card",{hover:!(s.flip||c.isBomb)&&o.value&&((v=d.value)==null?void 0:v.state)==="ongoing"}]),ref_key:"card",ref:t,onClick:l[0]||(l[0]=g=>e("squareClick",s.id)),style:N(b.value),onMouseover:l[1]||(l[1]=g=>o.value=!0),onMouseleave:l[2]||(l[2]=g=>o.value=!1)},[U,m("div",W,[c.isBomb?(n(),f(H,{key:0,"display-icon":c.displayIcon,class:k(((y=d.value)==null?void 0:y.result)==="claimed"?"winner":"")},null,8,["display-icon","class"])):(n(),f(P,{key:1,earn:c.earn,"display-icon":c.displayIcon},null,8,["earn","display-icon"]))])],38)}}});const ae=u(X,[["__scopeId","data-v-20c63fe9"]]);function se(a,e){return!e||e.length===0?!1:e.filter(s=>s.position===a).length>0}function oe(a,e){var i,t;return((t=((i=e==null?void 0:e.clicks)==null?void 0:i.filter(o=>o.position===a))[0])==null?void 0:t.earned)||0}export{ee as M,ae as a,oe as g,se as h,$ as u};
